<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Portfolio - Responsive Test Report</title>
    <style>
      * {
        box-sizing: border-box;
        margin: 0;
        padding: 0;
      }
      body {
        font-family: monospace;
        background: #111;
        color: #0f0;
        padding: 20px;
        line-height: 1.6;
      }
      .test-section {
        margin: 30px 0;
        padding: 20px;
        border: 1px solid #333;
        background: #222;
      }
      .status-good {
        color: #0f0;
      }
      .status-warning {
        color: #ff0;
      }
      .status-error {
        color: #f00;
      }
      .viewport-info {
        position: fixed;
        top: 10px;
        right: 10px;
        background: rgba(0, 0, 0, 0.8);
        padding: 10px;
        font-size: 12px;
        border: 1px solid #333;
      }
      iframe {
        width: 100%;
        height: 400px;
        border: 1px solid #666;
        margin: 10px 0;
      }
      .device-test {
        margin: 20px 0;
        border: 1px solid #444;
      }
      .device-test h3 {
        background: #333;
        padding: 10px;
        margin: 0;
      }
    </style>
  </head>
  <body>
    <div class="viewport-info">
      <div>Viewport: <span id="viewport-size"></span></div>
      <div>Device: <span id="device-type"></span></div>
      <div>Touch: <span id="touch-support"></span></div>
    </div>

    <h1>üñ•Ô∏è Portfolio Responsive Functionality Test</h1>
    <p>
      <strong>Testing URL:</strong>
      <a href="http://localhost:8006" target="_blank">http://localhost:8006</a>
    </p>

    <div class="test-section">
      <h2>üì± Device Simulation Tests</h2>
      <p>Testing portfolio at different screen sizes and orientations:</p>

      <div class="device-test">
        <h3>üì± iPhone 14 Pro (393x852) - Portrait</h3>
        <iframe
          src="http://localhost:8006"
          style="width: 393px; height: 400px"
        ></iframe>
        <div>
          <strong>Expected:</strong> Title scales down, navigation wraps,
          background rotation works
        </div>
      </div>

      <div class="device-test">
        <h3>üì± iPhone 14 Pro (852x393) - Landscape</h3>
        <iframe
          src="http://localhost:8006"
          style="width: 600px; height: 300px"
        ></iframe>
        <div>
          <strong>Expected:</strong> Navigation fits horizontally, content
          remains readable
        </div>
      </div>

      <div class="device-test">
        <h3>üì± iPad (768x1024) - Portrait</h3>
        <iframe
          src="http://localhost:8006"
          style="width: 768px; height: 400px"
        ></iframe>
        <div>
          <strong>Expected:</strong> Medium sizing, good balance between desktop
          and mobile
        </div>
      </div>

      <div class="device-test">
        <h3>üñ•Ô∏è Desktop (1920x1080)</h3>
        <iframe
          src="http://localhost:8006"
          style="width: 100%; height: 500px"
        ></iframe>
        <div>
          <strong>Expected:</strong> Full effects, maximum visual fidelity
        </div>
      </div>
    </div>

    <div class="test-section">
      <h2>üîß Technical Analysis</h2>
      <div id="technical-analysis">
        <p>üìä Analyzing viewport meta tag, responsive units, touch events...</p>
      </div>
    </div>

    <div class="test-section">
      <h2>‚úÖ Manual Test Checklist</h2>
      <div style="columns: 2; gap: 30px">
        <div>
          <h3>Desktop Tests:</h3>
          <label><input type="checkbox" /> Background rotates every 7s</label
          ><br />
          <label><input type="checkbox" /> CRT effects visible</label><br />
          <label><input type="checkbox" /> Title glitch works</label><br />
          <label><input type="checkbox" /> Nav hover effects</label><br />
          <label><input type="checkbox" /> Modal windows open</label><br />
          <label><input type="checkbox" /> Performance good</label><br />
        </div>
        <div>
          <h3>Mobile Tests:</h3>
          <label><input type="checkbox" /> Background rotates</label><br />
          <label><input type="checkbox" /> Touch navigation works</label><br />
          <label><input type="checkbox" /> Text remains readable</label><br />
          <label><input type="checkbox" /> No horizontal scroll</label><br />
          <label><input type="checkbox" /> Modal close works</label><br />
          <label><input type="checkbox" /> Performance acceptable</label><br />
        </div>
      </div>
    </div>

    <script>
      // Update viewport info
      function updateViewportInfo() {
        document.getElementById("viewport-size").textContent =
          window.innerWidth + "x" + window.innerHeight;

        const isMobile =
          /Android|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(
            navigator.userAgent
          );
        document.getElementById("device-type").textContent = isMobile
          ? "Mobile"
          : "Desktop";

        const hasTouch = "ontouchstart" in window;
        document.getElementById("touch-support").textContent = hasTouch
          ? "Yes"
          : "No";
      }

      // Technical analysis
      function runTechnicalAnalysis() {
        const analysis = document.getElementById("technical-analysis");

        // Test 1: Check if portfolio URL is accessible
        fetch("http://localhost:8006/manifest.json")
          .then((response) => response.json())
          .then((data) => {
            analysis.innerHTML += `
                        <div class="status-good">‚úÖ Manifest.json loads successfully</div>
                        <div>üìä Background images: ${data.count}</div>
                        <div>‚è±Ô∏è Rotation period: Every 7 seconds</div>
                    `;
          })
          .catch((error) => {
            analysis.innerHTML +=
              '<div class="status-error">‚ùå Cannot access portfolio</div>';
          });

        // Test 2: Viewport meta tag
        const viewport = document.querySelector('meta[name="viewport"]');
        analysis.innerHTML += viewport
          ? '<div class="status-good">‚úÖ Viewport meta tag present</div>'
          : '<div class="status-error">‚ùå No viewport meta tag</div>';

        // Test 3: CSS clamp() support
        const testElement = document.createElement("div");
        testElement.style.fontSize = "clamp(1rem, 5vw, 3rem)";
        analysis.innerHTML += testElement.style.fontSize.includes("clamp")
          ? '<div class="status-good">‚úÖ CSS clamp() supported</div>'
          : '<div class="status-warning">‚ö†Ô∏è CSS clamp() not supported</div>';

        // Test 4: Touch events
        const hasTouch = "ontouchstart" in window;
        analysis.innerHTML += hasTouch
          ? '<div class="status-good">‚úÖ Touch events supported</div>'
          : '<div class="status-good">‚ÑπÔ∏è Desktop environment (no touch)</div>';
      }

      // Initialize
      updateViewportInfo();
      runTechnicalAnalysis();
      window.addEventListener("resize", updateViewportInfo);

      // Auto-refresh every 30 seconds to check background rotation
      let refreshCount = 0;
      setInterval(() => {
        refreshCount++;
        if (refreshCount <= 10) {
          const iframes = document.querySelectorAll("iframe");
          iframes.forEach((iframe) => {
            // Reload iframes to verify background rotation is working
            iframe.contentWindow.location.reload();
          });
        }
      }, 30000);
    </script>
  </body>
</html>
