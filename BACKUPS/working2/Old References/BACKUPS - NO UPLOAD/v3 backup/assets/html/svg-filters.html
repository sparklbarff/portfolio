<svg aria-hidden="true" focusable="false" width="0" height="0" style="position:fixed;inset:auto;pointer-events:none">
  <defs>
    <!-- Realistic CRT Geometry (Sony Trinitron-style) -->
    <filter id="crt-geometry" x="-2%" y="-2%" width="104%" height="104%">
      <feTurbulence 
        type="fractalNoise" 
        baseFrequency="0.008 0.006" 
        numOctaves="1" 
        seed="42" 
        result="barrel-map"/>
      <feColorMatrix in="barrel-map" type="saturate" values="0"/>
      <feComponentTransfer in="barrel-map" result="pincushion">
        <feFuncA type="discrete" tableValues="0 .15 .3 .45 .6 .75 .6 .45 .3 .15 0"/>
      </feComponentTransfer>
      <feDisplacementMap 
        in="SourceGraphic" 
        in2="pincushion" 
        scale="2.5" 
        xChannelSelector="R" 
        yChannelSelector="G"/>
    </filter>

    <!-- Authentic P22 Phosphor Simulation -->
    <filter id="crt-phosphor-p22" x="0%" y="0%" width="100%" height="100%">
      <!-- Red phosphor (slightly offset) -->
      <feOffset in="SourceGraphic" dx="0.3" dy="0.1" result="red-phosphor"/>
      <feColorMatrix in="red-phosphor" type="matrix" 
                     values="1.05 0 0 0 0.02
                             0 0.1 0 0 0
                             0 0 0.1 0 0
                             0 0 0 1 0" result="red-glow"/>
      
      <!-- Green phosphor (dominant) -->
      <feOffset in="SourceGraphic" dx="0" dy="0" result="green-phosphor"/>
      <feColorMatrix in="green-phosphor" type="matrix" 
                     values="0.2 0 0 0 0
                             0 1.15 0 0 0.01
                             0 0 0.3 0 0
                             0 0 0 1 0" result="green-glow"/>
      
      <!-- Blue phosphor (slightly offset opposite) -->
      <feOffset in="SourceGraphic" dx="-0.4" dy="0.05" result="blue-phosphor"/>
      <feColorMatrix in="blue-phosphor" type="matrix" 
                     values="0.1 0 0 0 0
                             0 0.2 0 0 0
                             0 0 1.08 0 0.015
                             0 0 0 1 0" result="blue-glow"/>
      
      <!-- Combine phosphors -->
      <feComposite in="red-glow" in2="green-glow" operator="screen" result="rg-phosphor"/>
      <feComposite in="rg-phosphor" in2="blue-glow" operator="screen"/>
    </filter>

    <!-- Realistic Phosphor Persistence -->
    <filter id="crt-phosphor-decay" x="-5%" y="-5%" width="110%" height="110%">
      <feGaussianBlur in="SourceGraphic" stdDeviation="0.4" result="glow-base"/>
      <feColorMatrix in="glow-base" type="matrix" 
                     values="0.4 0.6 0.2 0 0
                             0.3 0.8 0.3 0 0
                             0.2 0.4 0.7 0 0
                             0 0 0 0.8 0" result="phosphor-afterglow"/>
      <feComposite 
        in="SourceGraphic" 
        in2="phosphor-afterglow" 
        operator="screen" 
        result="persistent-glow"/>
      
      <!-- Slow decay animation -->
      <feColorMatrix in="persistent-glow" type="matrix">
        <animate attributeName="values" 
                 values="1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0;
                         1.02 0 0 0 0 0 1.01 0 0 0 0 0 1.015 0 0 0 0 0 1 0;
                         0.98 0 0 0 0 0 0.99 0 0 0 0 0 0.985 0 0 0 0 0 1 0;
                         1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"
                 dur="8.5s" 
                 repeatCount="indefinite"/>
      </feColorMatrix>
    </filter>

    <!-- VHS Chroma Subsampling (Color bleeding) -->
    <filter id="vhs-chroma-bleed" x="-3%" y="-3%" width="106%" height="106%">
      <!-- Horizontal chroma blur (VHS characteristic) -->
      <feGaussianBlur in="SourceGraphic" stdDeviation="1.2 0.3" result="chroma-blur"/>
      <feColorMatrix in="chroma-blur" type="matrix" 
                     values="1 0 0 0 0
                             0 0.95 0 0.05 0.01
                             0 0.05 0.92 0.03 0.02
                             0 0 0 1 0" result="color-bleed"/>
      
      <!-- Slight saturation reduction (tape aging) -->
      <feColorMatrix in="color-bleed" type="saturate" values="0.88"/>
    </filter>

    <!-- VHS Tracking Instability -->
    <filter id="vhs-tracking-noise" x="-10%" y="-10%" width="120%" height="120%">
      <feTurbulence 
        type="fractalNoise" 
        baseFrequency="0.02 1.8" 
        numOctaves="2" 
        seed="7" 
        result="tracking-noise">
        <animate attributeName="baseFrequency" 
                 values="0.02 1.8;0.025 2.1;0.018 1.6;0.02 1.8" 
                 dur="45s" 
                 repeatCount="indefinite"/>
      </feTurbulence>
      <feColorMatrix in="tracking-noise" type="saturate" values="0"/>
      <feDisplacementMap 
        in="SourceGraphic" 
        in2="tracking-noise" 
        scale="0.8" 
        xChannelSelector="R" 
        yChannelSelector="G"/>
    </filter>

    <!-- NTSC Color Temperature Drift -->
    <filter id="vhs-color-temp-drift" x="0%" y="0%" width="100%" height="100%">
      <feColorMatrix type="matrix">
        <animate attributeName="values" 
                 values="1 0 0 0 0
                         0 1 0 0 0
                         0 0 1 0 0
                         0 0 0 1 0;
                         
                         1.015 0 0 0 0.005
                         0 0.995 0.005 0 0
                         0 0 0.985 0 -0.008
                         0 0 0 1 0;
                         
                         0.992 0 0 0 -0.003
                         0 1.008 -0.003 0 0.002
                         0 0 1.012 0 0.005
                         0 0 0 1 0;
                         
                         1.003 0 0 0 0.001
                         0 0.998 0.002 0 0
                         0 0 0.997 0 -0.002
                         0 0 0 1 0;
                         
                         1 0 0 0 0
                         0 1 0 0 0
                         0 0 1 0 0
                         0 0 0 1 0"
                 dur="73s" 
                 repeatCount="indefinite"/>
      </feColorMatrix>
    </filter>

    <!-- CRT Shadow Mask (Authentic Aperture Grille) -->
    <filter id="crt-shadow-mask-fine" x="0%" y="0%" width="100%" height="100%">
      <feTurbulence 
        type="fractalNoise" 
        baseFrequency="0 180" 
        numOctaves="1" 
        seed="99" 
        result="aperture-pattern"/>
      <feColorMatrix in="aperture-pattern" type="saturate" values="0"/>
      <feComponentTransfer in="aperture-pattern" result="mask">
        <feFuncA type="discrete" tableValues="0.92 0.98 0.94 0.99 0.93"/>
      </feComponentTransfer>
      <feComposite 
        in="SourceGraphic" 
        in2="mask" 
        operator="multiply"/>
    </filter>

    <!-- VHS Head Switching Noise -->
    <filter id="vhs-head-switch" x="-5%" y="-5%" width="110%" height="110%">
      <feTurbulence 
        type="fractalNoise" 
        baseFrequency="0 0.3" 
        numOctaves="1" 
        seed="33" 
        result="head-noise">
        <animate attributeName="baseFrequency" 
                 values="0 0.3;0 0.35;0 0.25;0 0.3" 
                 dur="120s" 
                 repeatCount="indefinite"/>
      </feTurbulence>
      <feColorMatrix in="head-noise" type="saturate" values="0"/>
      <feComponentTransfer in="head-noise" result="switch-lines">
        <feFuncA type="discrete" tableValues="1 1 1 0.85 1 1 1"/>
      </feComponentTransfer>
      <feComposite 
        in="SourceGraphic" 
        in2="switch-lines" 
        operator="multiply"/>
    </filter>

    <!-- CRT Focus Breathing (Realistic) -->
    <filter id="crt-focus-drift" x="-3%" y="-3%" width="106%" height="106%">
      <feGaussianBlur in="SourceGraphic" stdDeviation="0" result="focus-blur">
        <animate attributeName="stdDeviation" 
                 values="0;0.15;0.3;0.1;0.05;0" 
                 dur="28s" 
                 repeatCount="indefinite"/>
      </feGaussianBlur>
      <feColorMatrix in="focus-blur" type="matrix" 
                     values="1.01 0 0 0 0
                             0 1.005 0 0 0
                             0 0 1.02 0 0
                             0 0 0 1 0">
        <animate attributeName="values" 
                 values="1.01 0 0 0 0 0 1.005 0 0 0 0 0 1.02 0 0 0 0 0 1 0;
                         1.005 0 0 0 0 0 1.01 0 0 0 0 0 1.015 0 0 0 0 0 1 0;
                         1.015 0 0 0 0 0 1.002 0 0 0 0 0 1.025 0 0 0 0 0 1 0;
                         1.01 0 0 0 0 0 1.005 0 0 0 0 0 1.02 0 0 0 0 0 1 0"
                 dur="28s" 
                 repeatCount="indefinite"/>
      </feColorMatrix>
    </filter>

    <!-- VHS Tape Speed Variation -->
    <filter id="vhs-wow-flutter" x="-2%" y="-2%" width="104%" height="104%">
      <feTurbulence 
        type="fractalNoise" 
        baseFrequency="0.005 0.002" 
        numOctaves="1" 
        seed="15" 
        result="speed-variation">
        <animate attributeName="baseFrequency" 
                 values="0.005 0.002;0.008 0.003;0.003 0.001;0.005 0.002" 
                 dur="67s" 
                 repeatCount="indefinite"/>
      </feTurbulence>
      <feColorMatrix in="speed-variation" type="saturate" values="0"/>
      <feDisplacementMap 
        in="SourceGraphic" 
        in2="speed-variation" 
        scale="0.3" 
        xChannelSelector="R" 
        yChannelSelector="G"/>
    </filter>

    <!-- Combined CRT+VHS Processing Chain -->
    <filter id="crt-vhs-complete" x="-5%" y="-5%" width="110%" height="110%">
      <!-- Stage 1: VHS signal processing -->
      <feColorMatrix in="SourceGraphic" type="matrix" 
                     values="1 0 0 0 0
                             0 0.96 0.02 0 0.005
                             0 0.01 0.94 0 0.008
                             0 0 0 1 0" result="vhs-signal"/>
      
      <!-- Stage 2: Chroma subsampling blur -->
      <feGaussianBlur in="vhs-signal" stdDeviation="0.8 0.2" result="chroma-subsample"/>
      
      <!-- Stage 3: CRT phosphor response -->
      <feColorMatrix in="chroma-subsample" type="matrix" 
                     values="1.02 0 0 0 0.01
                             0.1 1.1 0.1 0 0.015
                             0.05 0.2 1.05 0 0.02
                             0 0 0 1 0" result="phosphor-response"/>
      
      <!-- Stage 4: Slight geometry distortion -->
      <feTurbulence type="fractalNoise" baseFrequency="0.01" numOctaves="1" seed="88" result="geometry-map"/>
      <feColorMatrix in="geometry-map" type="saturate" values="0"/>
      <feDisplacementMap 
        in="phosphor-response" 
        in2="geometry-map" 
        scale="1.2" 
        xChannelSelector="R" 
        yChannelSelector="G"/>
    </filter>
  </defs>
</svg>